<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Mountain Paglu ðŸ’œ</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <script src="https://unpkg.com/framer-motion@11/dist/framer-motion.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background-color: #020617;
    }
    
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(15, 23, 42, 0.3);
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(168, 85, 247, 0.5);
      border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(168, 85, 247, 0.8);
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;
    const { motion, AnimatePresence } = Motion;
    const confetti = window.confetti;
    
    const Heart = ({ className, fill, strokeWidth = 2 }) => (
      <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round">
        <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
      </svg>
    );
    
    const Mountain = ({ className, strokeWidth = 2 }) => (
      <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round">
        <path d="m8 3 4 8 5-5 5 15H2L8 3z"/>
      </svg>
    );
    
    const Music = ({ className }) => (
      <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M9 18V5l12-2v13"/>
        <circle cx="6" cy="18" r="3"/>
        <circle cx="18" cy="16" r="3"/>
      </svg>
    );
    
    const ArrowRight = ({ className }) => (
      <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M5 12h14"/>
        <path d="m12 5 7 7-7 7"/>
      </svg>
    );

    const StarfieldBackground = () => {
      const canvasRef = useRef(null);
      
      useEffect(() => {
        const canvas = canvasRef.current;
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const stars = Array.from({ length: 150 }, () => ({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 1.5,
          opacity: Math.random() * 0.5 + 0.3,
          twinkleSpeed: Math.random() * 0.02 + 0.01
        }));
        
        let frame = 0;
        const animate = () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          
          stars.forEach(star => {
            const twinkle = Math.sin(frame * star.twinkleSpeed) * 0.3 + 0.7;
            ctx.beginPath();
            ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity * twinkle})`;
            ctx.fill();
          });
          
          frame++;
          requestAnimationFrame(animate);
        };
        
        animate();
        
        const handleResize = () => {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        };
        
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
      }, []);
      
      return (
        <canvas 
          ref={canvasRef} 
          className="fixed inset-0 pointer-events-none z-0"
        />
      );
    };

    const MountainSilhouette = () => (
      <motion.div 
        className="fixed bottom-0 left-0 right-0 z-0 opacity-20"
        initial={{ y: 100, opacity: 0 }}
        animate={{ y: 0, opacity: 0.2 }}
        transition={{ duration: 3, ease: "easeOut" }}
      >
        <svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg" className="w-full">
          <path 
            fill="#1e1b4b" 
            fillOpacity="0.8"
            d="M0,192L48,181.3C96,171,192,149,288,154.7C384,160,480,192,576,186.7C672,181,768,139,864,128C960,117,1056,139,1152,154.7C1248,171,1344,181,1392,186.7L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
          />
          <path 
            fill="#0f172a" 
            fillOpacity="0.9"
            d="M0,256L48,245.3C96,235,192,213,288,213.3C384,213,480,235,576,234.7C672,235,768,213,864,202.7C960,192,1056,192,1152,197.3C1248,203,1344,213,1392,218.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
          />
        </svg>
      </motion.div>
    );

    const FloatingShape = ({ delay = 0 }) => (
      <motion.div
        className="absolute w-32 h-32 opacity-5"
        style={{
          left: `${Math.random() * 80}%`,
          top: `${Math.random() * 80}%`,
        }}
        animate={{
          y: [0, -40, 0],
          rotate: [0, 180, 360],
          scale: [1, 1.1, 1],
        }}
        transition={{
          duration: 25,
          delay,
          repeat: Infinity,
          ease: "linear"
        }}
      >
        <div className="w-full h-full bg-gradient-to-br from-purple-500 to-blue-500 rounded-3xl transform rotate-45" />
      </motion.div>
    );

    function ProposalApp() {
      // Phase 1: Intro, 2: Roast, 3: Confession, 4: Question
      const [phase, setPhase] = useState(1);
      const [noButtonState, setNoButtonState] = useState({ x: 0, y: 0, rotate: 0 });
      const [noButtonText, setNoButtonText] = useState("Nah");
      const [clickCount, setClickCount] = useState(0);
      const [showSuccess, setShowSuccess] = useState(false);
      const noButtonRef = useRef(null);
      
      const noButtonTexts = [
        "Wrong button! ðŸ˜¤",
        "Nice try lol", 
        "Are you sure? ðŸ‘€", 
        "Don't be mean ðŸ¥º", 
        "Click Green ðŸ’š", 
        "Error 404: No ðŸš«", 
        "Still trying? ðŸ˜‚", 
        "Mountain Paglu pls ðŸ”ï¸"
      ];
      
      const handleNoHover = () => {
        const isMobile = window.innerWidth < 768;
        // Reduced distance on mobile to prevent flying off screen
        const distance = isMobile ? 80 : 150; 
        
        const angle = Math.random() * 2 * Math.PI;
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance;
        const rotate = Math.random() * 20 - 10;
        
        setNoButtonState({ x, y, rotate });
        setNoButtonText(noButtonTexts[clickCount % noButtonTexts.length]);
        setClickCount(clickCount + 1);
      };
      
      const handleYesClick = () => {
        setShowSuccess(true);
        const duration = 3000;
        const end = Date.now() + duration;
        
        const frame = () => {
          confetti({
            particleCount: 3,
            angle: 60,
            spread: 55,
            origin: { x: 0 },
            colors: ['#a855f7', '#ec4899', '#f43f5e', '#fbbf24']
          });
          confetti({
            particleCount: 3,
            angle: 120,
            spread: 55,
            origin: { x: 1 },
            colors: ['#a855f7', '#ec4899', '#f43f5e', '#fbbf24']
          });
          
          if (Date.now() < end) {
            requestAnimationFrame(frame);
          }
        };
        frame();
      };
      
      const handlePlaySong = () => {
        window.open('https://open.spotify.com/track/1ZbcAMnlobqTAg2gZp3po1?si=cfde5ca268cd49c1', '_blank');
      };
      
      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 overflow-hidden relative">
          <StarfieldBackground />
          <MountainSilhouette />
          <FloatingShape delay={0} />
          <FloatingShape delay={5} />
          <FloatingShape delay={10} />
          
          <div className="fixed inset-0 bg-gradient-radial from-purple-900/20 via-transparent to-transparent pointer-events-none z-0" />
          
          <div className="relative z-10 min-h-screen flex items-center justify-center p-4">
            <AnimatePresence mode="wait">
              
              {/* Phase 1: The Hook */}
              {phase === 1 && (
                <motion.div
                  key="phase1"
                  initial={{ opacity: 0, scale: 0.95 }}
                  animate={{ opacity: 1, scale: 1 }}
                  exit={{ opacity: 0, scale: 0.95, filter: "blur(10px)" }}
                  transition={{ duration: 1.2, ease: "circOut" }}
                  className="max-w-2xl w-full"
                >
                  <div className="backdrop-blur-xl bg-white/10 rounded-3xl p-8 md:p-12 border border-white/20 shadow-2xl">
                    <motion.div
                      initial={{ y: 30, opacity: 0 }}
                      animate={{ y: 0, opacity: 1 }}
                      transition={{ delay: 0.5, duration: 1 }}
                      className="text-center space-y-6"
                    >
                      <motion.div
                        animate={{ rotate: [0, -5, 5, -5, 0] }}
                        transition={{ duration: 4, repeat: Infinity, ease: "easeInOut" }}
                      >
                        <Mountain className="w-20 h-20 mx-auto text-purple-300" strokeWidth={1.5} />
                      </motion.div>
                      
                      <h1 className="text-5xl md:text-7xl font-bold text-white" style={{ fontFamily: "'Syne', sans-serif" }}>
                        Hey Mountain Paglu...
                      </h1>
                      
                      <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ delay: 1.5, duration: 1.5 }}
                      >
                        <p className="text-xl md:text-2xl text-purple-200 leading-relaxed" style={{ fontFamily: "'Plus Jakarta Sans', sans-serif" }}>
                          I made a little universe just for you.
                        </p>
                      </motion.div>
                      
                      <motion.button
                        onClick={() => setPhase(2)}
                        className="mt-8 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-white font-semibold text-lg flex items-center gap-3 mx-auto hover:shadow-lg hover:shadow-purple-500/50 transition-all"
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: 2.5, duration: 1 }}
                      >
                        Step Inside
                        <ArrowRight className="w-5 h-5" />
                      </motion.button>
                    </motion.div>
                  </div>
                </motion.div>
              )}
              
              {/* Phase 2: The Roast */}
              {phase === 2 && (
                <motion.div
                  key="phase2"
                  initial={{ opacity: 0, x: 50 }}
                  animate={{ opacity: 1, x: 0 }}
                  exit={{ opacity: 0, x: -50, filter: "blur(10px)" }}
                  transition={{ duration: 1 }}
                  className="max-w-2xl w-full"
                >
                  <div className="backdrop-blur-xl bg-white/10 rounded-3xl p-8 md:p-12 border border-white/20 shadow-2xl">
                    <motion.div
                      initial={{ y: 30, opacity: 0 }}
                      animate={{ y: 0, opacity: 1 }}
                      transition={{ delay: 0.3, duration: 1 }}
                      className="text-center space-y-6"
                    >
                      <motion.img 
                        src="https://media.giphy.com/media/3oKIPnAiaMCws8nOsE/giphy.gif"
                        alt="Cat typing furiously"
                        className="w-48 h-auto mx-auto rounded-2xl shadow-lg border border-white/10"
                        initial={{ scale: 0.8, opacity: 0 }}
                        animate={{ scale: 1, opacity: 1 }}
                        transition={{ delay: 0.5, duration: 0.8 }}
                      />
                      
                      <h2 className="text-4xl md:text-6xl font-bold text-white" style={{ fontFamily: "'Syne', sans-serif" }}>
                        I know you're "Busy"...
                      </h2>
                      
                      <div className="space-y-4 text-lg md:text-xl text-purple-200" style={{ fontFamily: "'Plus Jakarta Sans', sans-serif" }}>
                        <motion.p
                          initial={{ opacity: 0, y: 15 }}
                          animate={{ opacity: 1, y: 0 }}
                          transition={{ delay: 1, duration: 0.8 }}
                        >
                          Probably buried under 1000 books ðŸ“š
                        </motion.p>
                        <motion.p
                          initial={{ opacity: 0, y: 15 }}
                          animate={{ opacity: 1, y: 0 }}
                          transition={{ delay: 1.8, duration: 0.8 }}
                        >
                          Or about to hit me with that legendary "Hmm" or "Achha" ðŸ˜„
                        </motion.p>
                      </div>
                      
                      <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ delay: 3, duration: 1 }}
                        className="mt-8"
                      >
                        <p className="text-sm text-purple-300 mb-2">Calculating free time...</p>
                        <div className="w-full h-2 bg-white/10 rounded-full overflow-hidden">
                          <motion.div
                            className="h-full bg-gradient-to-r from-purple-500 to-pink-500"
                            initial={{ width: "0%" }}
                            animate={{ width: "95%" }}
                            transition={{ duration: 7, delay: 3.2, ease: "linear" }}
                          />
                        </div>
                      </motion.div>
                      
                      <motion.button
                        onClick={() => setPhase(3)}
                        className="mt-8 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-white font-semibold text-lg flex items-center gap-3 mx-auto hover:shadow-lg hover:shadow-purple-500/50 transition-all"
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: 9, duration: 0.8 }}
                      >
                        Okay fine, show me
                        <ArrowRight className="w-5 h-5" />
                      </motion.button>
                    </motion.div>
                  </div>
                </motion.div>
              )}

              {/* Phase 3: The Confession */}
              {phase === 3 && (
                <motion.div
                  key="phase3"
                  initial={{ opacity: 0, scale: 0.9 }}
                  animate={{ opacity: 1, scale: 1 }}
                  exit={{ opacity: 0, scale: 1.05, filter: "blur(10px)" }}
                  transition={{ duration: 1 }}
                  className="max-w-2xl w-full"
                >
                  <div className="backdrop-blur-xl bg-white/10 rounded-3xl p-8 md:p-12 border border-white/20 shadow-2xl relative overflow-hidden">
                    <motion.div
                      initial={{ y: 20, opacity: 0 }}
                      animate={{ y: 0, opacity: 1 }}
                      transition={{ delay: 0.2, duration: 1 }}
                      className="text-center space-y-8"
                    >
                      <h2 className="text-3xl md:text-5xl font-bold text-white leading-tight" style={{ fontFamily: "'Syne', sans-serif" }}>
                        But before I ask...
                      </h2>

                      <div className="space-y-6 text-lg md:text-xl text-purple-100 leading-relaxed">
                        <motion.p
                          initial={{ opacity: 0 }}
                          animate={{ opacity: 1 }}
                          transition={{ delay: 1, duration: 1 }}
                        >
                          Honestly, I've loved the small things. The way you talk, the little things you do, and everything in between.
                        </motion.p>
                        <motion.p
                          initial={{ opacity: 0 }}
                          animate={{ opacity: 1 }}
                          transition={{ delay: 2.5, duration: 1 }}
                        >
                          It's the way you've become a part of my everyday thoughts without even trying.
                        </motion.p>
                        <motion.p
                          className="font-semibold text-pink-300"
                          initial={{ opacity: 0 }}
                          animate={{ opacity: 1 }}
                          transition={{ delay: 4, duration: 1 }}
                        >
                          So I just had to ask...
                        </motion.p>
                      </div>

                      <motion.button
                        onClick={() => setPhase(4)}
                        className="mt-8 px-8 py-4 bg-white text-purple-900 rounded-full font-bold text-lg flex items-center gap-3 mx-auto hover:shadow-lg hover:shadow-white/20 transition-all"
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                        initial={{ opacity: 0, scale: 0.8 }}
                        animate={{ opacity: 1, scale: 1 }}
                        transition={{ delay: 5.5, duration: 0.5 }}
                      >
                        Ask me
                        <Heart className="w-5 h-5 text-red-500 fill-current" />
                      </motion.button>
                    </motion.div>
                  </div>
                </motion.div>
              )}
              
              {/* Phase 4: The Question */}
              {phase === 4 && !showSuccess && (
                <motion.div
                  key="phase4"
                  initial={{ opacity: 0, scale: 0.9 }}
                  animate={{ opacity: 1, scale: 1 }}
                  exit={{ opacity: 0, scale: 0.9, filter: "blur(10px)" }}
                  transition={{ duration: 1.2 }}
                  className="max-w-2xl w-full"
                >
                  {/* REMOVED overflow-hidden HERE to fix the disappearing button */}
                  <div className="backdrop-blur-xl bg-white/10 rounded-3xl p-8 md:p-12 border border-white/20 shadow-2xl relative">
                    <motion.div
                      initial={{ y: 30, opacity: 0 }}
                      animate={{ y: 0, opacity: 1 }}
                      transition={{ delay: 0.2, duration: 1 }}
                      className="text-center space-y-8"
                    >
                      <motion.img 
                        src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif"
                        alt="Cute cat eyes"
                        className="w-40 h-auto mx-auto rounded-full border-4 border-white/20 shadow-2xl"
                        initial={{ scale: 0, rotate: -180 }}
                        animate={{ scale: 1, rotate: 0 }}
                        transition={{ type: "spring", damping: 12, delay: 0.5 }}
                      />
                      
                      <h2 className="text-4xl md:text-6xl font-bold text-white leading-tight" style={{ fontFamily: "'Syne', sans-serif" }}>
                        Will you be my<br />Valentine? ðŸ’œ
                      </h2>
                      
                      <div className="flex flex-col md:flex-row items-center justify-center gap-6 mt-12">
                        <motion.button
                          onClick={handleYesClick}
                          className="px-12 py-5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full text-white font-bold text-xl hover:shadow-lg hover:shadow-green-500/50 transition-all relative z-20 min-w-[200px]"
                          whileHover={{ scale: 1.1 }}
                          whileTap={{ scale: 0.95 }}
                        >
                          Yes! ðŸ’•
                        </motion.button>
                        
                        <motion.button
                          ref={noButtonRef}
                          onMouseEnter={handleNoHover}
                          onClick={handleNoHover}
                          className="px-12 py-5 bg-white/10 border border-white/20 rounded-full text-white font-bold text-xl backdrop-blur-sm relative z-50 cursor-pointer min-w-[200px]"
                          animate={{ x: noButtonState.x, y: noButtonState.y, rotate: noButtonState.rotate }}
                          transition={{ type: "spring", stiffness: 400, damping: 25 }}
                        >
                          {noButtonText}
                        </motion.button>
                      </div>
                    </motion.div>
                  </div>
                </motion.div>
              )}
              
              {/* Phase 5: Success & Tareef */}
              {showSuccess && (
                <motion.div
                  key="phase5"
                  initial={{ opacity: 0, scale: 0.8 }}
                  animate={{ opacity: 1, scale: 1 }}
                  transition={{ duration: 1.5, type: "spring" }}
                  className="max-w-3xl w-full"
                >
                  <div className="backdrop-blur-xl bg-white/10 rounded-3xl p-8 md:p-12 border border-white/20 shadow-2xl relative overflow-hidden text-center">
                    
                    <motion.div
                      initial={{ y: 20, opacity: 0 }}
                      animate={{ y: 0, opacity: 1 }}
                      transition={{ delay: 0.5, duration: 1 }}
                      className="space-y-8"
                    >
                      <h2 className="text-5xl md:text-7xl font-bold text-white" style={{ fontFamily: "'Syne', sans-serif" }}>
                        I knew it! ðŸŽ‰
                      </h2>

                      {/* Shayri Section */}
                      <motion.div 
                        className="bg-white/5 p-6 md:p-8 rounded-2xl border border-white/10 space-y-4"
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ delay: 1, duration: 2 }}
                      >
                        <p className="text-2xl md:text-3xl font-medium text-pink-300 leading-relaxed font-serif">
                          "Suna hai uske lehje mein, pahadon sa sukoon hai,<br/>
                          Agar ye baat hai, toh chalo umar bhar sun kar dekhte hain."
                        </p>
                        <p className="text-2xl md:text-3xl font-medium text-blue-300 leading-relaxed font-serif">
                          "Suna hai uski aankhon mein, kaaynaat ke raaz chupay hain,<br/>
                          So chalo unn jheel si aankhon mein, doob kar dekhte hain."
                        </p>
                      </motion.div>

                      <motion.p 
                        className="text-white text-3xl font-bold mt-12"
                        initial={{ scale: 0.9, opacity: 0 }}
                        animate={{ scale: 1, opacity: 1 }}
                        transition={{ delay: 2, duration: 1 }}
                      >
                        You're my favorite person, Mountain Paglu ðŸ’œ
                      </motion.p>

                      <motion.button
                        onClick={handlePlaySong}
                        className="mt-8 px-8 py-4 bg-gradient-to-r from-red-500 to-orange-500 rounded-full text-white font-semibold text-lg flex items-center gap-3 mx-auto hover:shadow-lg hover:shadow-red-500/50 transition-all group"
                      >
                        <Music className="w-6 h-6" />
                        <span>Our Vibe</span>
                        <motion.div animate={{ x: [0, 3, 0] }} transition={{ duration: 1.5, repeat: Infinity }}>â–¶</motion.div>
                      </motion.button>
                    </motion.div>

                  </div>
                </motion.div>
              )}
            </AnimatePresence>
          </div>
          
          <div className="fixed bottom-4 right-4 text-white/30 text-xs font-mono">
            Made with ðŸ’œ by your dev
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<ProposalApp />);
  </script>
</body>
</html>
